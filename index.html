<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Velvet - Where Elegance Meets Connection</title>
    
    <style>
        /* Velvet Mobile App - Complete Styles */
        :root {
            /* Velvet Color Palette */
            --vibrant-purple: #7D00B4;
            --soft-black: #0A0A0A;
            --accent-gold: #C9B37E;
            --pearl-white: #F2F0EC;
            
            /* Additional UI Colors */
            --dark-surface: #1A1A1A;
            --medium-surface: #2A2A2A;
            --light-surface: #F8F8F8;
            --text-primary: var(--pearl-white);
            --text-secondary: rgba(242, 240, 236, 0.7);
            --text-muted: rgba(242, 240, 236, 0.5);
            --text-dark: var(--soft-black);
            
            /* Typography - Using system fonts */
            --font-primary: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
            --font-display: Georgia, 'Times New Roman', serif;
            
            /* Shadows */
            --shadow-soft: 0 2px 20px rgba(0, 0, 0, 0.1);
            --shadow-medium: 0 8px 30px rgba(0, 0, 0, 0.15);
            --shadow-strong: 0 15px 50px rgba(0, 0, 0, 0.25);
            
            /* Border Radius */
            --radius-small: 8px;
            --radius-medium: 16px;
            --radius-large: 24px;
            --radius-full: 50px;
        }

        /* Reset and Base Styles */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: var(--font-primary);
            background: var(--soft-black);
            color: var(--text-primary);
            line-height: 1.6;
            overflow-x: hidden;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
        }

        /* Typography */
        h1, h2, h3 {
            font-family: var(--font-display);
            font-weight: 600;
            line-height: 1.2;
        }

        h1 { font-size: 2rem; }
        h2 { font-size: 1.75rem; }
        h3 { font-size: 1.5rem; }
        h4 { font-size: 1.25rem; font-weight: 600; }
        h5 { font-size: 1.1rem; font-weight: 500; }

        p { color: var(--text-secondary); }
        small { color: var(--text-muted); font-size: 0.875rem; }

        /* Icon replacements using Unicode symbols */
        .icon {
            display: inline-block;
            font-style: normal;
            font-variant: normal;
            text-rendering: auto;
            line-height: 1;
        }

        .icon-home::before { content: "üè†"; }
        .icon-compass::before { content: "üß≠"; }
        .icon-messages::before { content: "üí¨"; }
        .icon-user::before { content: "üë§"; }
        .icon-bell::before { content: "üîî"; }
        .icon-search::before { content: "üîç"; }
        .icon-clock::before { content: "üïí"; }
        .icon-users::before { content: "üë•"; }
        .icon-star::before { content: "‚≠ê"; }
        .icon-wine::before { content: "üç∑"; }
        .icon-rainbow::before { content: "üåà"; }
        .icon-fire::before { content: "üî•"; }
        .icon-mask::before { content: "üé≠"; }
        .icon-crown::before { content: "üëë"; }
        .icon-spa::before { content: "üßò"; }
        .icon-heart::before { content: "‚ù§Ô∏è"; }
        .icon-music::before { content: "üéµ"; }
        .icon-graduation::before { content: "üéì"; }
        .icon-edit::before { content: "‚úèÔ∏è"; }
        .icon-chevron::before { content: "‚ñ∂"; }
        .icon-check::before { content: "‚úì"; }
        .icon-bolt::before { content: "‚ö°"; }
        .icon-close::before { content: "‚úï"; }
        .icon-calendar::before { content: "üìÖ"; }
        .icon-shield::before { content: "üõ°Ô∏è"; }
        .icon-filter::before { content: "üîÑ"; }

        /* Buttons */
        .btn-cta {
            background: linear-gradient(135deg, var(--vibrant-purple), #9B1FD6);
            color: var(--pearl-white);
            border: none;
            padding: 16px 32px;
            border-radius: var(--radius-full);
            font-weight: 600;
            font-size: 1rem;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: var(--shadow-medium);
            width: 100%;
            margin-bottom: 12px;
        }

        .btn-cta:hover {
            transform: translateY(-2px);
            box-shadow: var(--shadow-strong);
        }

        .btn-secondary {
            background: transparent;
            color: var(--text-primary);
            border: 1px solid var(--accent-gold);
            padding: 12px 24px;
            border-radius: var(--radius-full);
            font-weight: 500;
            cursor: pointer;
            transition: all 0.3s ease;
            width: 100%;
            margin-bottom: 8px;
        }

        .btn-secondary:hover {
            background: var(--accent-gold);
            color: var(--soft-black);
        }

        /* Splash Screen */
        .splash-screen {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(135deg, var(--soft-black) 0%, var(--dark-surface) 100%);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 1000;
            opacity: 0;
            visibility: hidden;
            transition: all 0.5s ease;
        }

        .splash-screen.active {
            opacity: 1;
            visibility: visible;
        }

        .splash-content {
            text-align: center;
            animation: fadeInUp 1s ease;
        }

        .velvet-logo h1 {
            font-family: var(--font-display);
            font-size: 3rem;
            font-weight: 700;
            letter-spacing: 0.2em;
            color: var(--pearl-white);
            margin-bottom: 8px;
        }

        .logo-accent {
            width: 60px;
            height: 3px;
            background: linear-gradient(90deg, var(--vibrant-purple), var(--accent-gold));
            margin: 0 auto 24px;
            border-radius: 2px;
        }

        .splash-tagline {
            color: var(--text-secondary);
            font-size: 1.1rem;
            margin-bottom: 40px;
            font-weight: 300;
        }

        /* Authentication Screens */
        .auth-screen {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(135deg, var(--soft-black) 0%, var(--dark-surface) 100%);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 999;
            opacity: 0;
            visibility: hidden;
            transition: all 0.5s ease;
            padding: 20px;
            overflow-y: auto;
        }

        .auth-screen.active {
            opacity: 1;
            visibility: visible;
        }

        .auth-content {
            width: 100%;
            max-width: 400px;
            text-align: center;
        }

        .auth-header {
            margin-bottom: 40px;
        }

        .auth-header .velvet-logo h1 {
            font-family: var(--font-display);
            font-size: 2.5rem;
            font-weight: 700;
            letter-spacing: 0.2em;
            color: var(--pearl-white);
            margin-bottom: 8px;
        }

        .auth-header p {
            color: var(--text-secondary);
            font-size: 1rem;
            margin-top: 16px;
        }

        /* Form Styles */
        .auth-form {
            text-align: left;
            margin-bottom: 24px;
        }



        .form-group {
            margin-bottom: 20px;
            flex: 1;
        }

        .form-group label {
            display: block;
            color: var(--text-primary);
            font-weight: 500;
            margin-bottom: 8px;
            font-size: 0.9rem;
        }

        .form-group input {
            width: 100%;
            padding: 14px 16px;
            background: var(--dark-surface);
            border: 2px solid transparent;
            border-radius: var(--radius-small);
            color: var(--text-primary);
            font-size: 1rem;
            transition: all 0.3s ease;
        }

        .form-group input:focus {
            outline: none;
            border-color: var(--vibrant-purple);
            background: var(--medium-surface);
        }

        .form-group input::placeholder {
            color: var(--text-muted);
        }

        .form-checkbox {
            display: flex;
            align-items: flex-start;
            gap: 12px;
            margin-bottom: 24px;
        }

        .form-checkbox input[type="checkbox"] {
            width: 18px;
            height: 18px;
            margin-top: 2px;
            accent-color: var(--vibrant-purple);
        }

        .form-checkbox label {
            color: var(--text-secondary);
            font-size: 0.9rem;
            line-height: 1.4;
        }

        .auth-links {
            text-align: center;
            margin-top: 20px;
        }

        .forgot-password {
            color: var(--accent-gold);
            text-decoration: none;
            font-size: 0.9rem;
            transition: color 0.3s ease;
        }

        .forgot-password:hover {
            color: var(--vibrant-purple);
        }

        .auth-switch {
            padding-top: 20px;
            border-top: 1px solid var(--dark-surface);
            text-align: center;
        }

        .auth-switch p {
            color: var(--text-secondary);
            font-size: 0.9rem;
        }

        .auth-switch a {
            color: var(--vibrant-purple);
            text-decoration: none;
            font-weight: 500;
            transition: color 0.3s ease;
        }

        .auth-switch a:hover {
            color: var(--accent-gold);
        }

        /* Notification Styles */
        .notification {
            position: fixed;
            top: 60px;
            left: 50%;
            transform: translateX(-50%) translateY(-100px);
            background: var(--dark-surface);
            color: var(--text-primary);
            padding: 16px 24px;
            border-radius: var(--radius-medium);
            box-shadow: var(--shadow-strong);
            z-index: 10000;
            opacity: 0;
            transition: all 0.3s ease;
            border-left: 4px solid var(--vibrant-purple);
            max-width: 90%;
            min-width: 300px;
        }

        .notification.show {
            opacity: 1;
            transform: translateX(-50%) translateY(0);
        }

        .notification.error {
            border-left-color: #ff4757;
            background: linear-gradient(135deg, #2c1810 0%, #3c1f1f 100%);
        }

        .notification.success {
            border-left-color: #2ed573;
            background: linear-gradient(135deg, #0f2c1b 0%, #1a3d25 100%);
        }

        .notification-content {
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .notification .icon {
            font-size: 1.2rem;
        }

        .notification .message {
            font-size: 0.95rem;
            font-weight: 500;
        }

        /* Logout Button Styling */
        .logout-btn {
            background: rgba(255, 71, 87, 0.1) !important;
            border-color: rgba(255, 71, 87, 0.3) !important;
            color: #ff6b7a !important;
        }

        .logout-btn:hover {
            background: rgba(255, 71, 87, 0.2) !important;
            border-color: #ff4757 !important;
        }

        .splash-loader {
            margin-top: 40px;
        }

        .loader-dots {
            display: flex;
            justify-content: center;
            gap: 8px;
        }

        .loader-dots span {
            width: 8px;
            height: 8px;
            background: var(--accent-gold);
            border-radius: 50%;
            animation: pulse 1.5s infinite;
        }

        .loader-dots span:nth-child(2) { animation-delay: 0.2s; }
        .loader-dots span:nth-child(3) { animation-delay: 0.4s; }

        /* Onboarding Screen */
        .onboarding-screen {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: var(--soft-black);
            padding: 40px 24px;
            display: flex;
            flex-direction: column;
            justify-content: center;
            z-index: 900;
            opacity: 0;
            visibility: hidden;
            transition: all 0.5s ease;
        }

        .onboarding-screen.active {
            opacity: 1;
            visibility: visible;
        }

        .onboarding-header {
            text-align: center;
            margin-bottom: 48px;
        }

        .onboarding-header h2 {
            color: var(--pearl-white);
            margin-bottom: 16px;
        }

        .onboarding-header p {
            color: var(--text-secondary);
            font-size: 1.1rem;
            line-height: 1.5;
        }

        .onboarding-features {
            margin-bottom: 48px;
        }

        .feature-card {
            background: var(--dark-surface);
            padding: 24px;
            border-radius: var(--radius-medium);
            margin-bottom: 16px;
            border: 1px solid rgba(201, 179, 126, 0.1);
            transition: all 0.3s ease;
        }

        .feature-card:hover {
            border-color: var(--accent-gold);
            transform: translateY(-2px);
        }

        .feature-card .icon {
            color: var(--accent-gold);
            font-size: 1.5rem;
            margin-bottom: 12px;
            display: block;
        }

        .feature-card h3 {
            color: var(--pearl-white);
            margin-bottom: 8px;
            font-size: 1.1rem;
        }

        .feature-card p {
            color: var(--text-secondary);
            font-size: 0.9rem;
        }

        /* App Container */
        .app-container {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: var(--soft-black);
            opacity: 0;
            visibility: hidden;
            transition: all 0.5s ease;
            display: flex;
            flex-direction: column;
        }

        .app-container.active {
            opacity: 1;
            visibility: visible;
        }

        /* Status Bar */
        .status-bar {
            background: var(--soft-black);
            padding: 12px 24px 8px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            font-size: 0.875rem;
            font-weight: 600;
            color: var(--pearl-white);
            border-bottom: 1px solid rgba(201, 179, 126, 0.1);
        }

        .status-indicators {
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .status-indicators .icon-bolt {
            color: var(--accent-gold);
        }

        /* Main Content */
        .main-content {
            flex: 1;
            overflow-y: auto;
            padding-bottom: 80px;
        }

        .screen {
            display: none;
            padding: 24px;
            min-height: 100%;
        }

        .screen.active {
            display: block;
        }

        /* Dashboard/Home Screen */
        .dashboard-header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: 32px;
        }

        .greeting h2 {
            color: var(--text-secondary);
            font-size: 1.2rem;
            font-weight: 400;
            margin-bottom: 4px;
        }

        .greeting h1 {
            color: var(--pearl-white);
            font-size: 1.8rem;
        }

        .notification-badge {
            position: relative;
            padding: 12px;
            background: var(--dark-surface);
            border-radius: var(--radius-full);
            border: 1px solid rgba(201, 179, 126, 0.2);
        }

        .notification-badge .icon-bell {
            color: var(--accent-gold);
            font-size: 1.1rem;
        }

        .badge {
            position: absolute;
            top: -4px;
            right: -4px;
            background: var(--vibrant-purple);
            color: var(--pearl-white);
            font-size: 0.75rem;
            font-weight: 600;
            padding: 2px 6px;
            border-radius: var(--radius-full);
            min-width: 18px;
            text-align: center;
        }

        .exclusive-events h3 {
            color: var(--text-secondary);
            font-size: 1rem;
            font-weight: 400;
            margin-bottom: 24px;
        }

        .featured-event {
            margin-bottom: 32px;
        }

        .event-badge {
            color: var(--accent-gold);
            font-size: 0.875rem;
            font-weight: 600;
            margin-bottom: 4px;
        }

        .event-curated {
            color: var(--text-muted);
            font-size: 0.8rem;
            margin-bottom: 16px;
        }

        .event-card {
            background: var(--dark-surface);
            border-radius: var(--radius-large);
            overflow: hidden;
            margin-bottom: 16px;
            border: 1px solid rgba(201, 179, 126, 0.1);
            transition: all 0.3s ease;
        }

        .event-card:hover {
            transform: translateY(-2px);
            border-color: var(--accent-gold);
            box-shadow: var(--shadow-medium);
        }

        .event-card.featured {
            background: linear-gradient(135deg, var(--dark-surface) 0%, var(--medium-surface) 100%);
        }

        .event-image {
            height: 200px;
            background: linear-gradient(135deg, var(--vibrant-purple), var(--accent-gold));
            position: relative;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .event-image.small {
            width: 60px;
            height: 60px;
            border-radius: var(--radius-medium);
            flex-shrink: 0;
        }

        .gradient-overlay {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(135deg, rgba(125, 0, 180, 0.3), rgba(201, 179, 126, 0.3));
        }

        .event-type {
            color: var(--pearl-white);
            font-size: 1.2rem;
            font-weight: 600;
            text-shadow: 0 2px 10px rgba(0, 0, 0, 0.5);
            z-index: 1;
            position: relative;
        }

        .event-details {
            padding: 20px;
        }

        .event-details h4 {
            color: var(--pearl-white);
            margin-bottom: 12px;
        }

        .event-meta {
            display: flex;
            gap: 16px;
            margin-bottom: 12px;
            font-size: 0.875rem;
            color: var(--text-secondary);
        }

        .event-meta .icon {
            color: var(--accent-gold);
            margin-right: 4px;
        }

        .event-rating {
            display: flex;
            align-items: center;
            gap: 4px;
            color: var(--accent-gold);
            font-weight: 600;
        }

        .event-rating .icon-star {
            font-size: 0.875rem;
        }

        /* Upcoming Events List */
        .upcoming-events .event-card {
            display: flex;
            align-items: center;
            padding: 16px;
            background: var(--dark-surface);
            border-radius: var(--radius-medium);
        }

        .event-info {
            flex: 1;
            margin-left: 16px;
        }

        .event-info h5 {
            color: var(--pearl-white);
            margin-bottom: 4px;
        }

        .event-info p {
            color: var(--text-secondary);
            font-size: 0.875rem;
            margin-bottom: 2px;
        }

        .event-info small {
            color: var(--text-muted);
        }

        .event-action {
            color: var(--accent-gold);
            padding: 8px;
        }

        /* Screen Headers */
        .screen-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 24px;
            padding-bottom: 16px;
            border-bottom: 1px solid rgba(201, 179, 126, 0.1);
        }

        .screen-header h2 {
            color: var(--pearl-white);
        }

        .header-actions {
            display: flex;
            gap: 16px;
        }

        .header-actions .icon {
            color: var(--accent-gold);
            font-size: 1.1rem;
            cursor: pointer;
            padding: 8px;
            transition: all 0.3s ease;
        }

        .header-actions .icon:hover {
            color: var(--pearl-white);
        }

        /* Search */
        .search-container {
            position: relative;
            width: 100%;
            max-width: 300px;
        }

        .search-input {
            width: 100%;
            background: var(--dark-surface);
            border: 1px solid rgba(201, 179, 126, 0.2);
            border-radius: var(--radius-full);
            padding: 12px 40px 12px 16px;
            color: var(--pearl-white);
            font-size: 0.875rem;
        }

        .search-input::placeholder {
            color: var(--text-muted);
        }

        .search-input:focus {
            outline: none;
            border-color: var(--accent-gold);
        }

        .search-container .icon-search {
            position: absolute;
            right: 16px;
            top: 50%;
            transform: translateY(-50%);
            color: var(--text-muted);
        }

        /* Filter Tabs */
        .filter-tabs {
            display: flex;
            gap: 8px;
            margin-bottom: 24px;
            overflow-x: auto;
            padding-bottom: 8px;
        }

        .filter-tab {
            background: transparent;
            border: 1px solid rgba(201, 179, 126, 0.3);
            color: var(--text-secondary);
            padding: 8px 16px;
            border-radius: var(--radius-full);
            font-size: 0.875rem;
            cursor: pointer;
            transition: all 0.3s ease;
            white-space: nowrap;
        }

        .filter-tab.active,
        .filter-tab:hover {
            background: var(--accent-gold);
            color: var(--soft-black);
            border-color: var(--accent-gold);
        }

        /* Category Section */
        .category-section {
            margin-bottom: 32px;
        }

        .category-section h3 {
            color: var(--pearl-white);
            margin-bottom: 16px;
            font-size: 1.1rem;
            font-weight: 600;
        }

        .category-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
            gap: 12px;
            margin-bottom: 24px;
        }

        .category-card {
            background: var(--dark-surface);
            border: 1px solid rgba(201, 179, 126, 0.2);
            border-radius: var(--radius-medium);
            padding: 16px 12px;
            display: flex;
            flex-direction: column;
            align-items: center;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
            color: var(--text-primary);
            font-family: var(--font-primary);
            position: relative;
            overflow: hidden;
        }

        .category-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 3px;
            background: linear-gradient(90deg, transparent, var(--accent-gold), transparent);
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .category-card:hover::before {
            opacity: 1;
        }

        .category-card .icon {
            font-size: 1.5rem;
            margin-bottom: 8px;
            transition: all 0.3s ease;
        }

        .category-card span {
            font-weight: 600;
            font-size: 0.9rem;
            margin-bottom: 4px;
            color: var(--pearl-white);
        }

        .category-card small {
            font-size: 0.75rem;
            color: var(--text-muted);
            line-height: 1.2;
        }

        /* Category intensity styling */
        .category-card.mild {
            border-color: rgba(76, 175, 80, 0.3);
        }

        .category-card.mild .icon {
            color: #4CAF50;
        }

        .category-card.mild:hover {
            border-color: #4CAF50;
            background: rgba(76, 175, 80, 0.1);
        }

        .category-card.moderate {
            border-color: rgba(255, 193, 7, 0.3);
        }

        .category-card.moderate .icon {
            color: #FFC107;
        }

        .category-card.moderate:hover {
            border-color: #FFC107;
            background: rgba(255, 193, 7, 0.1);
        }

        .category-card.spicy {
            border-color: rgba(255, 152, 0, 0.3);
        }

        .category-card.spicy .icon {
            color: #FF9800;
        }

        .category-card.spicy:hover {
            border-color: #FF9800;
            background: rgba(255, 152, 0, 0.1);
        }

        .category-card.wild {
            border-color: rgba(244, 67, 54, 0.3);
        }

        .category-card.wild .icon {
            color: #F44336;
        }

        .category-card.wild:hover {
            border-color: #F44336;
            background: rgba(244, 67, 54, 0.1);
        }

        .category-card.active {
            background: var(--vibrant-purple);
            border-color: var(--vibrant-purple);
            color: var(--pearl-white);
            transform: scale(1.02);
        }

        .category-card.active .icon {
            color: var(--accent-gold);
        }

        .category-card:hover {
            transform: translateY(-2px);
            box-shadow: var(--shadow-medium);
        }

        /* Events Grid */
        .events-grid {
            display: grid;
            gap: 16px;
        }

        .event-card-grid {
            background: var(--dark-surface);
            border-radius: var(--radius-medium);
            overflow: hidden;
            border: 1px solid rgba(201, 179, 126, 0.1);
            transition: all 0.3s ease;
        }

        .event-card-grid:hover {
            transform: translateY(-2px);
            border-color: var(--accent-gold);
        }

        .event-card-grid.hidden {
            opacity: 0;
            transform: scale(0.95);
            pointer-events: none;
            height: 0;
            margin: 0;
            overflow: hidden;
        }

        .event-image-grid {
            height: 160px;
            background: linear-gradient(135deg, var(--vibrant-purple), var(--accent-gold));
            position: relative;
            display: flex;
            align-items: flex-end;
            padding: 16px;
        }

        .event-type-badge {
            background: rgba(0, 0, 0, 0.7);
            color: var(--pearl-white);
            padding: 4px 12px;
            border-radius: var(--radius-full);
            font-size: 0.75rem;
            font-weight: 600;
            z-index: 1;
            position: relative;
        }

        .event-content {
            padding: 16px;
        }

        .event-content h4 {
            color: var(--pearl-white);
            margin-bottom: 8px;
        }

        .event-content p {
            color: var(--text-secondary);
            font-size: 0.875rem;
            margin-bottom: 12px;
        }

        .event-content .event-meta {
            display: flex;
            flex-direction: column;
            gap: 4px;
        }

        .event-content .event-meta span {
            color: var(--text-muted);
            font-size: 0.8rem;
        }

        /* Event Tags */
        .event-tags {
            display: flex;
            flex-wrap: wrap;
            gap: 6px;
            margin-top: 8px;
        }

        .event-tags .tag {
            font-size: 0.7rem;
            padding: 3px 8px;
            border-radius: var(--radius-full);
            font-weight: 500;
            border: 1px solid;
        }

        .event-tags .tag.mild {
            background: rgba(76, 175, 80, 0.15);
            color: #4CAF50;
            border-color: rgba(76, 175, 80, 0.3);
        }

        .event-tags .tag.moderate {
            background: rgba(255, 193, 7, 0.15);
            color: #FFC107;
            border-color: rgba(255, 193, 7, 0.3);
        }

        .event-tags .tag.spicy {
            background: rgba(255, 152, 0, 0.15);
            color: #FF9800;
            border-color: rgba(255, 152, 0, 0.3);
        }

        .event-tags .tag.wild {
            background: rgba(244, 67, 54, 0.15);
            color: #F44336;
            border-color: rgba(244, 67, 54, 0.3);
        }

        /* Messages/Chat */
        .chat-list {
            display: flex;
            flex-direction: column;
            gap: 1px;
        }

        .chat-item {
            display: flex;
            align-items: center;
            padding: 16px;
            background: var(--dark-surface);
            border-radius: var(--radius-medium);
            margin-bottom: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .chat-item:hover {
            background: var(--medium-surface);
        }

        .chat-avatar {
            position: relative;
            margin-right: 16px;
        }

        .avatar-placeholder {
            width: 48px;
            height: 48px;
            background: linear-gradient(135deg, var(--vibrant-purple), var(--accent-gold));
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--pearl-white);
            font-weight: 600;
            font-size: 0.875rem;
        }

        .online-indicator {
            position: absolute;
            bottom: 2px;
            right: 2px;
            width: 12px;
            height: 12px;
            background: #4CAF50;
            border: 2px solid var(--soft-black);
            border-radius: 50%;
        }

        .chat-content {
            flex: 1;
        }

        .chat-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 4px;
        }

        .chat-header h4 {
            color: var(--pearl-white);
            font-size: 1rem;
        }

        .chat-header .time {
            color: var(--text-muted);
            font-size: 0.75rem;
        }

        .chat-preview {
            color: var(--text-secondary);
            font-size: 0.875rem;
            line-height: 1.4;
        }

        .chat-actions {
            margin-left: 12px;
        }

        .unread-badge {
            background: var(--vibrant-purple);
            color: var(--pearl-white);
            font-size: 0.75rem;
            font-weight: 600;
            padding: 2px 6px;
            border-radius: var(--radius-full);
            min-width: 18px;
            text-align: center;
        }

        /* Profile */
        .profile-header {
            position: relative;
            margin: -24px -24px 32px -24px;
        }

        .profile-cover {
            height: 160px;
            background: linear-gradient(135deg, var(--vibrant-purple), var(--accent-gold));
            position: relative;
        }

        .profile-info {
            background: var(--soft-black);
            padding: 24px;
            border-radius: var(--radius-large) var(--radius-large) 0 0;
            margin-top: -40px;
            position: relative;
            z-index: 1;
        }

        .profile-avatar {
            position: relative;
            margin-bottom: 16px;
        }

        .avatar-large {
            width: 80px;
            height: 80px;
            background: linear-gradient(135deg, var(--vibrant-purple), var(--accent-gold));
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--pearl-white);
            font-size: 2rem;
            font-weight: 600;
            border: 4px solid var(--soft-black);
        }

        .verification-badge {
            position: absolute;
            bottom: 4px;
            right: 4px;
            width: 24px;
            height: 24px;
            background: var(--accent-gold);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            border: 2px solid var(--soft-black);
        }

        .verification-badge .icon-check {
            color: var(--soft-black);
            font-size: 0.75rem;
        }

        .profile-details h2 {
            color: var(--pearl-white);
            margin-bottom: 8px;
        }

        .profile-badges {
            display: flex;
            gap: 8px;
            flex-wrap: wrap;
        }

        .profile-badges .badge {
            position: static;
            background: transparent;
            border: 1px solid var(--accent-gold);
            color: var(--accent-gold);
            padding: 4px 12px;
            border-radius: var(--radius-full);
            font-size: 0.75rem;
            font-weight: 500;
        }

        .profile-badges .badge.verified {
            background: var(--accent-gold);
            color: var(--soft-black);
        }

        .profile-badges .badge.premium {
            background: var(--vibrant-purple);
            color: var(--pearl-white);
            border-color: var(--vibrant-purple);
        }

        .profile-section {
            margin-bottom: 32px;
        }

        .profile-section h3 {
            color: var(--pearl-white);
            margin-bottom: 16px;
            font-size: 1.1rem;
        }

        .profile-section p {
            color: var(--text-secondary);
            line-height: 1.6;
        }

        .preference-tags {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
        }

        .tag {
            background: var(--dark-surface);
            color: var(--text-primary);
            padding: 6px 12px;
            border-radius: var(--radius-full);
            font-size: 0.8rem;
            border: 1px solid rgba(201, 179, 126, 0.2);
        }

        .profile-actions {
            display: flex;
            flex-direction: column;
            gap: 12px;
        }

        /* Bottom Navigation */
        .bottom-nav {
            background: var(--dark-surface);
            border-top: 1px solid rgba(201, 179, 126, 0.1);
            padding: 12px 0 8px;
            display: flex;
            justify-content: space-around;
            align-items: center;
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            z-index: 100;
        }

        .nav-item {
            background: none;
            border: none;
            color: var(--text-muted);
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 4px;
            padding: 8px 12px;
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
            min-width: 60px;
        }

        .nav-item.active {
            color: var(--accent-gold);
        }

        .nav-item:hover {
            color: var(--pearl-white);
        }

        .nav-item .icon {
            font-size: 1.1rem;
        }

        .nav-item span {
            font-size: 0.7rem;
            font-weight: 500;
        }

        .nav-badge {
            position: absolute;
            top: 2px;
            right: 8px;
            background: var(--vibrant-purple);
            color: var(--pearl-white);
            font-size: 0.6rem;
            font-weight: 600;
            padding: 1px 4px;
            border-radius: var(--radius-full);
            min-width: 14px;
            text-align: center;
        }

        /* Animations */
        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @keyframes pulse {
            0%, 100% {
                opacity: 0.4;
                transform: scale(0.8);
            }
            50% {
                opacity: 1;
                transform: scale(1);
            }
        }

        /* Mobile Responsive Styles */
        @media (max-width: 768px) {
            .app-container {
                max-width: 100vw;
                height: 100vh;
                height: 100dvh;
            }

            .main-content {
                padding-bottom: 90px;
                overflow-y: auto;
                -webkit-overflow-scrolling: touch;
            }

            .screen {
                padding: 16px;
                min-height: calc(100vh - 140px);
                min-height: calc(100dvh - 140px);
            }

            .status-bar {
                padding: 8px 20px 6px;
                font-size: 0.8rem;
            }

            h1 { font-size: 1.75rem; }
            h2 { font-size: 1.5rem; }
            h3 { font-size: 1.3rem; }
            
            .velvet-logo h1 {
                font-size: 2.5rem;
            }

            .category-grid {
                grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
                gap: 8px;
            }

            .category-card {
                padding: 12px 8px;
            }

            .category-card .icon {
                font-size: 1.3rem;
            }

            .category-card span {
                font-size: 0.8rem;
            }

            .category-card small {
                font-size: 0.7rem;
            }

            .event-tags .tag {
                font-size: 0.65rem;
                padding: 2px 6px;
            }

            .bottom-nav {
                padding: 8px 0 4px;
            }

            .nav-item {
                padding: 6px 8px;
                min-width: 50px;
            }

            .nav-item span {
                font-size: 0.65rem;
            }
        }

        @media (max-width: 375px) {
            .category-grid {
                grid-template-columns: repeat(auto-fit, minmax(100px, 1fr));
                gap: 6px;
            }

            .category-card {
                padding: 10px 6px;
            }

            .category-card span {
                font-size: 0.75rem;
            }
        }

        /* Scrollbar Styling */
        ::-webkit-scrollbar {
            width: 4px;
        }

        ::-webkit-scrollbar-track {
            background: var(--dark-surface);
        }

        ::-webkit-scrollbar-thumb {
            background: var(--accent-gold);
            border-radius: 2px;
        }

        ::-webkit-scrollbar-thumb:hover {
            background: var(--vibrant-purple);
        }
    </style>
</head>
<body>
    <!-- Splash Screen -->
    <div id="splash-screen" class="splash-screen active">
        <div class="splash-content">
            <div class="velvet-logo">
                <h1>VELVET</h1>
                <div class="logo-accent"></div>
            </div>
            <p class="splash-tagline">Where Elegance Meets Connection</p>
            <div class="splash-loader">
                <div class="loader-dots">
                    <span></span>
                    <span></span>
                    <span></span>
                </div>
            </div>
        </div>
    </div>

    <!-- Login Screen -->
    <div id="login-screen" class="auth-screen">
        <div class="auth-content">
            <div class="auth-header">
                <div class="velvet-logo">
                    <h1>VELVET</h1>
                    <div class="logo-accent"></div>
                </div>
                <p>Welcome back to where elegance meets connection</p>
            </div>
            
            <form class="auth-form" id="login-form">
                <div class="form-group">
                    <label for="login-email">Email</label>
                    <input type="email" id="login-email" name="email" autocomplete="email" required>
                </div>
                
                <div class="form-group">
                    <label for="login-password">Password</label>
                    <input type="password" id="login-password" name="password" autocomplete="current-password" required>
                </div>
                
                <button type="submit" class="btn-cta">Sign In</button>
                
                <div class="auth-links">
                    <a href="#" class="forgot-password" onclick="showForgotPassword()">Forgot Password?</a>
                </div>
            </form>
            
            <div class="auth-switch">
                <p>New to Velvet? <a href="#" onclick="showSignup()">Create Account</a></p>
            </div>
        </div>
    </div>

    <!-- Forgot Password Screen -->
    <div id="forgot-password-screen" class="auth-screen">
        <div class="auth-content">
            <div class="auth-header">
                <div class="velvet-logo">
                    <h1>VELVET</h1>
                    <div class="logo-accent"></div>
                </div>
                <h3>Reset Your Password</h3>
                <p>Enter your email address and we'll send you a secure link to reset your password</p>
            </div>
            
            <form class="auth-form" id="forgot-password-form">
                <div class="form-group">
                    <label for="reset-email">Email Address</label>
                    <input type="email" id="reset-email" name="email" autocomplete="email" required>
                </div>
                
                <button type="submit" class="btn-cta">Send Reset Link</button>
            </form>
            
            <div class="auth-switch">
                <p>Remember your password? <a href="#" onclick="showLogin()">Back to Sign In</a></p>
            </div>
        </div>
    </div>

    <!-- Reset Password Screen -->
    <div id="reset-password-screen" class="auth-screen">
        <div class="auth-content">
            <div class="auth-header">
                <div class="velvet-logo">
                    <h1>VELVET</h1>
                    <div class="logo-accent"></div>
                </div>
                <h3>Create New Password</h3>
                <p>Enter your new password below</p>
            </div>
            
            <form class="auth-form" id="reset-password-form">
                <input type="hidden" id="reset-token" name="token">
                <input type="email" name="username" autocomplete="username" style="display: none;">
                
                <div class="form-group">
                    <label for="new-password">New Password</label>
                    <input type="password" id="new-password" name="password" autocomplete="new-password" required>
                </div>
                
                <div class="form-group">
                    <label for="confirm-new-password">Confirm New Password</label>
                    <input type="password" id="confirm-new-password" name="confirmPassword" autocomplete="new-password" required>
                </div>
                
                <button type="submit" class="btn-cta">Update Password</button>
            </form>
            
            <div class="auth-switch">
                <p><a href="#" onclick="showLogin()">Back to Sign In</a></p>
            </div>
        </div>
    </div>

    <!-- Signup Screen -->
    <div id="signup-screen" class="auth-screen">
        <div class="auth-content">
            <div class="auth-header">
                <div class="velvet-logo">
                    <h1>VELVET</h1>
                    <div class="logo-accent"></div>
                </div>
                <p>Join the most sophisticated lifestyle community</p>
            </div>
            
            <form class="auth-form" id="signup-form">
                <div class="form-group">
                    <label for="signup-email">Email</label>
                    <input type="email" id="signup-email" name="email" autocomplete="email" required>
                </div>
                
                <div class="form-group">
                    <label for="signup-password">Password</label>
                    <input type="password" id="signup-password" name="password" autocomplete="new-password" required>
                </div>
                
                <div class="form-group">
                    <label for="signup-confirm">Confirm Password</label>
                    <input type="password" id="signup-confirm" name="confirmPassword" autocomplete="new-password" required>
                </div>
                
                <div class="form-group">
                    <label for="signup-dob">Date of Birth</label>
                    <input type="date" id="signup-dob" name="dateOfBirth" autocomplete="bday" required>
                </div>
                
                <div class="form-checkbox">
                    <input type="checkbox" id="terms-agree" required>
                    <label for="terms-agree">I agree to the Terms of Service and Privacy Policy</label>
                </div>
                
                <button type="submit" class="btn-cta">Create Account</button>
            </form>
            
            <div class="auth-switch">
                <p>Already have an account? <a href="#" onclick="showLogin()">Sign In</a></p>
            </div>
        </div>
    </div>

    <!-- Onboarding Screen -->
    <div id="onboarding-screen" class="onboarding-screen">
        <div class="onboarding-content">
            <div class="onboarding-header">
                <h2>Begin Your Journey</h2>
                <p>Discover curated events and authentic connections in the lifestyle community</p>
            </div>
            
            <div class="onboarding-features">
                <div class="feature-card">
                    <span class="icon icon-calendar"></span>
                    <h3>Event-First Approach</h3>
                    <p>Connect through exclusive gatherings, not endless swiping</p>
                </div>
                
                <div class="feature-card">
                    <span class="icon icon-shield"></span>
                    <h3>AI-Powered Privacy</h3>
                    <p>Advanced face blurring and discretion features</p>
                </div>
                
                <div class="feature-card">
                    <span class="icon icon-users"></span>
                    <h3>Attendee Preview</h3>
                    <p>See who's attending before you RSVP</p>
                </div>
            </div>
            
            <div class="onboarding-actions">
                <button class="btn-cta" onclick="startApp()">Enter Velvet</button>
                <button class="btn-secondary" onclick="learnMore()">Learn More</button>
            </div>
        </div>
    </div>

    <!-- Main App Container -->
    <div id="app-container" class="app-container">
        <!-- Status Bar -->
        <div class="status-bar">
            <span class="time">9:41 AM</span>
            <div class="status-indicators">
                <span class="network">Velvet</span>
                <span class="battery">100%</span>
                <span class="icon icon-bolt"></span>
            </div>
        </div>

        <!-- Main Content Area -->
        <main class="main-content">
            <!-- Home/Dashboard Screen -->
            <div id="home-screen" class="screen active">
                <div class="dashboard-header">
                    <div class="greeting">
                        <h2>Good Evening,</h2>
                        <h1>Guest</h1>
                    </div>
                    <div class="notification-badge">
                        <span class="icon icon-bell"></span>
                        <span class="badge">3</span>
                    </div>
                </div>

                <div class="exclusive-events">
                    <h3>3 exclusive events await you</h3>
                    
                    <div class="featured-event">
                        <div class="event-badge">Tonight's Featured</div>
                        <div class="event-curated">Curated for your preferences</div>
                        
                        <div class="event-card featured">
                            <div class="event-image">
                                <div class="gradient-overlay"></div>
                                <div class="event-type">Intimate Soir√©e</div>
                            </div>
                            <div class="event-details">
                                <h4>The Penthouse</h4>
                                <div class="event-meta">
                                    <span class="time"><span class="icon icon-clock"></span> 8:00 PM</span>
                                    <span class="attendees"><span class="icon icon-users"></span> 6 of 8 confirmed</span>
                                </div>
                                <div class="event-rating">
                                    <span class="icon icon-star"></span>
                                    <span>4.9</span>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="upcoming-events">
                        <div class="event-card">
                            <div class="event-image small">
                                <div class="gradient-overlay"></div>
                            </div>
                            <div class="event-info">
                                <h5>Champagne & Conversation</h5>
                                <p>Saturday, 8:00 PM</p>
                                <small>Hosted by Marcus & Elena</small>
                            </div>
                            <div class="event-action">
                                <span class="icon icon-chevron"></span>
                            </div>
                        </div>

                        <div class="event-card">
                            <div class="event-image small">
                                <div class="gradient-overlay"></div>
                            </div>
                            <div class="event-info">
                                <h5>Garden Party Soir√©e</h5>
                                <p>Sunday, 6:00 PM</p>
                                <small>Hosted by Victoria & James</small>
                            </div>
                            <div class="event-action">
                                <span class="icon icon-chevron"></span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Discover Screen -->
            <div id="discover-screen" class="screen">
                <div class="screen-header">
                    <h2>Discover</h2>
                    <div class="search-container">
                        <input type="text" placeholder="Search exclusive events..." class="search-input">
                        <span class="icon icon-search"></span>
                    </div>
                </div>

                <div class="filter-tabs">
                    <button class="filter-tab active">All Events</button>
                    <button class="filter-tab">Tonight</button>
                    <button class="filter-tab">This Week</button>
                </div>

                <div class="category-section">
                    <h3>Event Categories</h3>
                    <div class="category-grid">
                        <button class="category-card mild" data-category="non-play">
                            <span class="icon icon-wine"></span>
                            <span>Non Play Event</span>
                            <small>Social & Networking</small>
                        </button>
                        
                        <button class="category-card mild" data-category="lgbtq">
                            <span class="icon icon-rainbow"></span>
                            <span>LGBTQ+ Friendly</span>
                            <small>Inclusive & Welcoming</small>
                        </button>
                        
                        <button class="category-card mild" data-category="social">
                            <span class="icon icon-users"></span>
                            <span>Social Mixer</span>
                            <small>Meet & Greet</small>
                        </button>
                        
                        <button class="category-card moderate" data-category="workshop">
                            <span class="icon icon-graduation"></span>
                            <span>Educational</span>
                            <small>Workshops & Learning</small>
                        </button>
                        
                        <button class="category-card moderate" data-category="couples">
                            <span class="icon icon-heart"></span>
                            <span>Couples Only</span>
                            <small>Paired Connections</small>
                        </button>
                        
                        <button class="category-card moderate" data-category="dance">
                            <span class="icon icon-music"></span>
                            <span>Dance & Music</span>
                            <small>Rhythmic Connections</small>
                        </button>
                        
                        <button class="category-card spicy" data-category="play">
                            <span class="icon icon-fire"></span>
                            <span>Play Event</span>
                            <small>Interactive & Intimate</small>
                        </button>
                        
                        <button class="category-card spicy" data-category="themed">
                            <span class="icon icon-mask"></span>
                            <span>Themed Party</span>
                            <small>Fantasy & Role Play</small>
                        </button>
                        
                        <button class="category-card wild" data-category="exclusive">
                            <span class="icon icon-crown"></span>
                            <span>VIP Exclusive</span>
                            <small>Elite Members Only</small>
                        </button>
                        
                        <button class="category-card wild" data-category="retreat">
                            <span class="icon icon-spa"></span>
                            <span>Weekend Retreat</span>
                            <small>Multi-Day Experience</small>
                        </button>
                    </div>
                </div>

                <div class="events-grid">
                    <div class="event-card-grid" data-categories="non-play social lgbtq">
                        <div class="event-image-grid">
                            <div class="gradient-overlay"></div>
                            <div class="event-type-badge">Non Play</div>
                        </div>
                        <div class="event-content">
                            <h4>Wine & Wisdom Evening</h4>
                            <p>Sophisticated conversation & networking</p>
                            <div class="event-meta">
                                <span>Saturday, 7:00 PM</span>
                                <span>Hosted by Marcus & Elena</span>
                            </div>
                            <div class="event-tags">
                                <span class="tag mild">LGBTQ+ Friendly</span>
                                <span class="tag mild">Social</span>
                            </div>
                        </div>
                    </div>

                    <div class="event-card-grid" data-categories="play couples themed">
                        <div class="event-image-grid">
                            <div class="gradient-overlay"></div>
                            <div class="event-type-badge">Play Event</div>
                        </div>
                        <div class="event-content">
                            <h4>Masquerade Play Party</h4>
                            <p>Elegant masks, intimate connections</p>
                            <div class="event-meta">
                                <span>Friday, 9:00 PM</span>
                                <span>Hosted by Adrian & Sophie</span>
                            </div>
                            <div class="event-tags">
                                <span class="tag spicy">Couples Only</span>
                                <span class="tag spicy">Themed</span>
                            </div>
                        </div>
                    </div>

                    <div class="event-card-grid" data-categories="workshop non-play lgbtq">
                        <div class="event-image-grid">
                            <div class="gradient-overlay"></div>
                            <div class="event-type-badge">Educational</div>
                        </div>
                        <div class="event-content">
                            <h4>Communication Workshop</h4>
                            <p>Building authentic connections</p>
                            <div class="event-meta">
                                <span>Sunday, 3:00 PM</span>
                                <span>Hosted by Dr. Jessica Chen</span>
                            </div>
                            <div class="event-tags">
                                <span class="tag moderate">Workshop</span>
                                <span class="tag mild">LGBTQ+ Friendly</span>
                            </div>
                        </div>
                    </div>

                    <div class="event-card-grid" data-categories="dance social couples">
                        <div class="event-image-grid">
                            <div class="gradient-overlay"></div>
                            <div class="event-type-badge">Dance</div>
                        </div>
                        <div class="event-content">
                            <h4>Salsa & Sensuality</h4>
                            <p>Dance your way to connection</p>
                            <div class="event-meta">
                                <span>Thursday, 8:00 PM</span>
                                <span>Hosted by Carlos & Maria</span>
                            </div>
                            <div class="event-tags">
                                <span class="tag moderate">Dance</span>
                                <span class="tag moderate">Couples</span>
                            </div>
                        </div>
                    </div>

                    <div class="event-card-grid" data-categories="exclusive play vip">
                        <div class="event-image-grid">
                            <div class="gradient-overlay"></div>
                            <div class="event-type-badge">VIP</div>
                        </div>
                        <div class="event-content">
                            <h4>Penthouse Playground</h4>
                            <p>Elite members exclusive experience</p>
                            <div class="event-meta">
                                <span>Saturday, 10:00 PM</span>
                                <span>Hosted by The Platinum Circle</span>
                            </div>
                            <div class="event-tags">
                                <span class="tag wild">VIP Exclusive</span>
                                <span class="tag spicy">Play Event</span>
                            </div>
                        </div>
                    </div>

                    <div class="event-card-grid" data-categories="retreat exclusive couples">
                        <div class="event-image-grid">
                            <div class="gradient-overlay"></div>
                            <div class="event-type-badge">Retreat</div>
                        </div>
                        <div class="event-content">
                            <h4>Mountain Escape Weekend</h4>
                            <p>3-day luxury lifestyle retreat</p>
                            <div class="event-meta">
                                <span>Fri-Sun, All Day</span>
                                <span>Hosted by Retreat Masters</span>
                            </div>
                            <div class="event-tags">
                                <span class="tag wild">Weekend Retreat</span>
                                <span class="tag moderate">Couples Only</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Messages Screen -->
            <div id="messages-screen" class="screen">
                <div class="screen-header">
                    <h2>Messages</h2>
                    <div class="header-actions">
                        <span class="icon icon-search"></span>
                        <span class="icon icon-edit"></span>
                    </div>
                </div>

                <div class="chat-list">
                    <div class="chat-item">
                        <div class="chat-avatar">
                            <div class="avatar-placeholder">M&E</div>
                            <div class="online-indicator"></div>
                        </div>
                        <div class="chat-content">
                            <div class="chat-header">
                                <h4>Marcus & Elena</h4>
                                <span class="time">2m</span>
                            </div>
                            <p class="chat-preview">Looking forward to meeting you at tonight's event...</p>
                        </div>
                        <div class="chat-actions">
                            <div class="unread-badge">2</div>
                        </div>
                    </div>

                    <div class="chat-item">
                        <div class="chat-avatar">
                            <div class="avatar-placeholder">V&J</div>
                        </div>
                        <div class="chat-content">
                            <div class="chat-header">
                                <h4>Victoria & James</h4>
                                <span class="time">1h</span>
                            </div>
                            <p class="chat-preview">The garden party location has been confirmed!</p>
                        </div>
                    </div>

                    <div class="chat-item">
                        <div class="chat-avatar">
                            <div class="avatar-placeholder">A&S</div>
                        </div>
                        <div class="chat-content">
                            <div class="chat-header">
                                <h4>Adrian & Sophie</h4>
                                <span class="time">3h</span>
                            </div>
                            <p class="chat-preview">Thank you for your interest in our rooftop event</p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Profile Screen -->
            <div id="profile-screen" class="screen">
                <div class="profile-header">
                    <div class="profile-cover">
                        <div class="gradient-overlay"></div>
                    </div>
                    <div class="profile-info">
                        <div class="profile-avatar">
                            <div class="avatar-large">A</div>
                            <div class="verification-badge">
                                <span class="icon icon-check"></span>
                            </div>
                        </div>
                        <div class="profile-details">
                            <h2>Alexandra</h2>
                            <div class="profile-badges">
                                <span class="badge verified">‚úì Verified</span>
                                <span class="badge premium">Premium</span>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="profile-content">
                    <div class="profile-section">
                        <h3>About</h3>
                        <p>Curious and authentic individual who values meaningful connections, sophisticated conversations, and shared experiences in elegant settings.</p>
                    </div>

                    <div class="profile-section">
                        <h3>Preferences</h3>
                        <div class="preference-tags">
                            <span class="tag">Intimate Gatherings</span>
                            <span class="tag">Champagne Events</span>
                            <span class="tag">Rooftop Venues</span>
                            <span class="tag">Weekend Socials</span>
                        </div>
                    </div>

                    <div class="profile-actions">
                        <button class="btn-secondary">Edit Profile</button>
                        <button class="btn-secondary">Privacy Settings</button>
                        <button class="btn-secondary">Notification Preferences</button>
                        <button class="btn-secondary logout-btn" onclick="logout()">Logout</button>
                    </div>
                </div>
            </div>
        </main>

        <!-- Bottom Navigation -->
        <nav class="bottom-nav">
            <button class="nav-item active" data-screen="home">
                <span class="icon icon-home"></span>
                <span>Home</span>
            </button>
            <button class="nav-item" data-screen="discover">
                <span class="icon icon-compass"></span>
                <span>Discover</span>
            </button>
            <button class="nav-item" data-screen="messages">
                <span class="icon icon-messages"></span>
                <span>Messages</span>
                <div class="nav-badge">3</div>
            </button>
            <button class="nav-item" data-screen="profile">
                <span class="icon icon-user"></span>
                <span>Profile</span>
            </button>
        </nav>
    </div>

    <script>
        // Velvet Mobile App - Complete JavaScript
        class VelvetApp {
            constructor() {
                this.currentScreen = 'home';
                this.isAppReady = false;
                this.currentUser = null;
                this.init();
            }

            init() {
                this.setupEventListeners();
                this.showSplashScreen();
            }

            setupEventListeners() {
                // Authentication form listeners
                const loginForm = document.getElementById('login-form');
                const signupForm = document.getElementById('signup-form');
                const forgotPasswordForm = document.getElementById('forgot-password-form');
                const resetPasswordForm = document.getElementById('reset-password-form');
                
                if (loginForm) {
                    loginForm.addEventListener('submit', (e) => {
                        e.preventDefault();
                        this.handleLogin(e.target);
                    });
                }
                
                if (signupForm) {
                    signupForm.addEventListener('submit', (e) => {
                        e.preventDefault();
                        this.handleSignup(e.target);
                    });
                }

                if (forgotPasswordForm) {
                    forgotPasswordForm.addEventListener('submit', (e) => {
                        e.preventDefault();
                        this.handleForgotPassword(e.target);
                    });
                }

                if (resetPasswordForm) {
                    resetPasswordForm.addEventListener('submit', (e) => {
                        e.preventDefault();
                        this.handleResetPassword(e.target);
                    });
                }

                // Navigation listeners
                document.querySelectorAll('.nav-item').forEach(item => {
                    item.addEventListener('click', (e) => {
                        e.preventDefault();
                        const screenId = item.dataset.screen;
                        this.navigateToScreen(screenId);
                    });
                });

                // Filter tab listeners
                document.querySelectorAll('.filter-tab').forEach(tab => {
                    tab.addEventListener('click', (e) => {
                        e.preventDefault();
                        this.handleFilterTab(tab);
                    });
                });

                // Category card listeners
                document.querySelectorAll('.category-card').forEach(card => {
                    card.addEventListener('click', (e) => {
                        e.preventDefault();
                        this.handleCategoryFilter(card);
                    });
                });

                // Event card listeners
                document.querySelectorAll('.event-card, .event-card-grid').forEach(card => {
                    card.addEventListener('click', (e) => {
                        e.preventDefault();
                        this.handleEventClick(card);
                    });
                });

                // Chat item listeners
                document.querySelectorAll('.chat-item').forEach(item => {
                    item.addEventListener('click', (e) => {
                        e.preventDefault();
                        this.handleChatClick(item);
                    });
                });

                // Search input listener
                const searchInput = document.querySelector('.search-input');
                if (searchInput) {
                    searchInput.addEventListener('input', (e) => {
                        this.handleSearch(e.target.value);
                    });
                }

                // Profile action listeners
                document.querySelectorAll('.profile-actions .btn-secondary').forEach(btn => {
                    btn.addEventListener('click', (e) => {
                        e.preventDefault();
                        this.handleProfileAction(btn);
                    });
                });

                // Touch and gesture support
                this.setupTouchGestures();
            }

            showSplashScreen() {
                const splashScreen = document.getElementById('splash-screen');

                // Show splash screen
                splashScreen.classList.add('active');

                // Simulate loading time and check authentication
                setTimeout(() => {
                    splashScreen.classList.remove('active');
                    this.checkAuthentication();
                }, 3000);
            }

            async checkAuthentication() {
                // Check if user is logged in
                const savedUser = localStorage.getItem('velvet_current_user');
                
                if (savedUser) {
                    // User is logged in, verify session is valid
                    try {
                        this.currentUser = JSON.parse(savedUser);
                        this.showApp();
                    } catch (error) {
                        // Invalid saved data, show login
                        localStorage.removeItem('velvet_current_user');
                        this.showLogin();
                    }
                } else {
                    // No user logged in, show login
                    this.showLogin();
                }
            }

            showLogin() {
                const loginScreen = document.getElementById('login-screen');
                setTimeout(() => {
                    loginScreen.classList.add('active');
                }, 500);
            }

            showSignup() {
                const loginScreen = document.getElementById('login-screen');
                const signupScreen = document.getElementById('signup-screen');
                
                loginScreen.classList.remove('active');
                setTimeout(() => {
                    signupScreen.classList.add('active');
                }, 300);
            }

            showApp() {
                // Check if user needs onboarding
                const isFirstTime = !localStorage.getItem('velvet_onboarded');
                
                if (isFirstTime) {
                    this.showOnboarding();
                } else {
                    this.startApp();
                }
            }

            showOnboarding() {
                const onboardingScreen = document.getElementById('onboarding-screen');
                setTimeout(() => {
                    onboardingScreen.classList.add('active');
                }, 500);
            }

            showForgotPassword() {
                const loginScreen = document.getElementById('login-screen');
                const forgotPasswordScreen = document.getElementById('forgot-password-screen');
                
                loginScreen.classList.remove('active');
                setTimeout(() => {
                    forgotPasswordScreen.classList.add('active');
                }, 300);
            }

            showResetPassword(token) {
                const forgotPasswordScreen = document.getElementById('forgot-password-screen');
                const resetPasswordScreen = document.getElementById('reset-password-screen');
                
                // Set the token in the hidden field
                document.getElementById('reset-token').value = token;
                
                forgotPasswordScreen.classList.remove('active');
                setTimeout(() => {
                    resetPasswordScreen.classList.add('active');
                }, 300);
            }

            navigateToScreen(screenId) {
                // Update navigation active state
                document.querySelectorAll('.nav-item').forEach(item => {
                    item.classList.remove('active');
                });
                
                document.querySelector(`[data-screen="${screenId}"]`).classList.add('active');

                // Show corresponding screen
                document.querySelectorAll('.screen').forEach(screen => {
                    screen.classList.remove('active');
                });

                const targetScreen = document.getElementById(`${screenId}-screen`);
                if (targetScreen) {
                    targetScreen.classList.add('active');
                    this.currentScreen = screenId;
                    this.animateScreenTransition(targetScreen);
                }
            }

            animateScreenTransition(targetScreen) {
                targetScreen.style.opacity = '0';
                targetScreen.style.transform = 'translateX(20px)';
                
                requestAnimationFrame(() => {
                    targetScreen.style.transition = 'opacity 0.3s ease, transform 0.3s ease';
                    targetScreen.style.opacity = '1';
                    targetScreen.style.transform = 'translateX(0)';
                });

                setTimeout(() => {
                    targetScreen.style.transition = '';
                    targetScreen.style.transform = '';
                }, 300);
            }

            handleFilterTab(clickedTab) {
                document.querySelectorAll('.filter-tab').forEach(tab => {
                    tab.classList.remove('active');
                });
                clickedTab.classList.add('active');

                clickedTab.style.transform = 'scale(0.95)';
                setTimeout(() => {
                    clickedTab.style.transform = 'scale(1)';
                }, 100);

                const filterType = clickedTab.textContent.trim();
                this.filterEvents(filterType);
            }

            filterEvents(filterType) {
                const eventCards = document.querySelectorAll('.event-card-grid');
                
                eventCards.forEach(card => {
                    card.style.opacity = '0';
                    card.style.transform = 'translateY(10px)';
                });

                setTimeout(() => {
                    eventCards.forEach(card => {
                        card.style.opacity = '1';
                        card.style.transform = 'translateY(0)';
                    });
                }, 150);

                console.log(`Filtering events by: ${filterType}`);
            }

            handleCategoryFilter(clickedCard) {
                const category = clickedCard.dataset.category;
                
                if (clickedCard.classList.contains('active')) {
                    clickedCard.classList.remove('active');
                    this.showAllEvents();
                    return;
                }

                document.querySelectorAll('.category-card').forEach(card => {
                    card.classList.remove('active');
                });

                clickedCard.classList.add('active');

                clickedCard.style.transform = 'scale(0.95)';
                setTimeout(() => {
                    clickedCard.style.transform = 'scale(1.02)';
                }, 100);

                this.filterEventsByCategory(category);
            }

            filterEventsByCategory(category) {
                const eventCards = document.querySelectorAll('.event-card-grid');
                
                eventCards.forEach(card => {
                    const categories = card.dataset.categories?.split(' ') || [];
                    const shouldShow = categories.includes(category);
                    
                    if (shouldShow) {
                        card.classList.remove('hidden');
                        setTimeout(() => {
                            card.style.transform = 'translateY(0)';
                            card.style.opacity = '1';
                        }, 50);
                    } else {
                        card.style.transform = 'translateY(-10px)';
                        card.style.opacity = '0';
                        setTimeout(() => {
                            card.classList.add('hidden');
                        }, 150);
                    }
                });

                const visibleEvents = document.querySelectorAll('.event-card-grid:not(.hidden)').length;
                console.log(`Found ${visibleEvents} events in category: ${category}`);
            }

            showAllEvents() {
                const eventCards = document.querySelectorAll('.event-card-grid');
                
                eventCards.forEach(card => {
                    card.classList.remove('hidden');
                    card.style.transform = 'translateY(0)';
                    card.style.opacity = '1';
                });

                console.log('Showing all events');
            }

            handleEventClick(eventCard) {
                eventCard.style.transform = 'scale(0.98)';
                setTimeout(() => {
                    eventCard.style.transform = 'scale(1)';
                }, 100);

                this.showEventDetails(eventCard);
            }

            showEventDetails(eventCard) {
                const modal = this.createModal('Event Details', 'Event details would be shown here in the full app.');
                document.body.appendChild(modal);
                
                requestAnimationFrame(() => {
                    modal.style.opacity = '1';
                    modal.querySelector('.modal-content').style.transform = 'scale(1)';
                });
            }

            handleChatClick(chatItem) {
                chatItem.style.transform = 'scale(0.98)';
                setTimeout(() => {
                    chatItem.style.transform = 'scale(1)';
                }, 100);

                this.openChat(chatItem);
            }

            openChat(chatItem) {
                const chatName = chatItem.querySelector('h4').textContent;
                const modal = this.createModal('Chat', `Chat with ${chatName} would open here in the full app.`);
                document.body.appendChild(modal);
                
                requestAnimationFrame(() => {
                    modal.style.opacity = '1';
                    modal.querySelector('.modal-content').style.transform = 'scale(1)';
                });
            }

            handleSearch(query) {
                clearTimeout(this.searchTimeout);
                this.searchTimeout = setTimeout(() => {
                    this.performSearch(query);
                }, 300);
            }

            performSearch(query) {
                if (query.length < 2) return;

                console.log(`Searching for: ${query}`);
                
                const eventCards = document.querySelectorAll('.event-card-grid');
                eventCards.forEach(card => {
                    card.style.opacity = '0.5';
                    setTimeout(() => {
                        card.style.opacity = '1';
                    }, 200);
                });
            }

            handleProfileAction(button) {
                const action = button.textContent.trim();
                
                button.style.transform = 'scale(0.95)';
                setTimeout(() => {
                    button.style.transform = 'scale(1)';
                }, 100);

                let modalContent = '';
                switch(action) {
                    case 'Edit Profile':
                        modalContent = 'Profile editing interface would be shown here.';
                        break;
                    case 'Privacy Settings':
                        modalContent = 'AI-powered privacy controls and face blurring settings would be configured here.';
                        break;
                    case 'Notification Preferences':
                        modalContent = 'Notification preferences for events and messages would be managed here.';
                        break;
                }

                const modal = this.createModal(action, modalContent);
                document.body.appendChild(modal);
                
                requestAnimationFrame(() => {
                    modal.style.opacity = '1';
                    modal.querySelector('.modal-content').style.transform = 'scale(1)';
                });
            }

            createModal(title, content) {
                const modal = document.createElement('div');
                modal.className = 'modal-overlay';
                modal.innerHTML = `
                    <div class="modal-content">
                        <div class="modal-header">
                            <h3>${title}</h3>
                            <button class="modal-close">‚úï</button>
                        </div>
                        <div class="modal-body">
                            <p>${content}</p>
                        </div>
                    </div>
                `;

                modal.style.cssText = `
                    position: fixed;
                    top: 0;
                    left: 0;
                    right: 0;
                    bottom: 0;
                    background: rgba(10, 10, 10, 0.9);
                    display: flex;
                    align-items: center;
                    justify-content: center;
                    z-index: 2000;
                    opacity: 0;
                    transition: opacity 0.3s ease;
                    padding: 20px;
                `;

                const modalContent = modal.querySelector('.modal-content');
                modalContent.style.cssText = `
                    background: var(--dark-surface);
                    border-radius: 16px;
                    padding: 24px;
                    max-width: 400px;
                    width: 100%;
                    border: 1px solid var(--accent-gold);
                    color: var(--text-primary);
                    transform: scale(0.9);
                    transition: transform 0.3s ease;
                `;

                const modalHeader = modal.querySelector('.modal-header');
                modalHeader.style.cssText = `
                    display: flex;
                    justify-content: space-between;
                    align-items: center;
                    margin-bottom: 16px;
                    border-bottom: 1px solid rgba(201, 179, 126, 0.2);
                    padding-bottom: 12px;
                `;

                const modalClose = modal.querySelector('.modal-close');
                modalClose.style.cssText = `
                    background: none;
                    border: none;
                    color: var(--accent-gold);
                    font-size: 1.5rem;
                    cursor: pointer;
                    padding: 0;
                    width: 30px;
                    height: 30px;
                    display: flex;
                    align-items: center;
                    justify-content: center;
                `;

                modalClose.addEventListener('click', () => this.closeModal(modal));
                modal.addEventListener('click', (e) => {
                    if (e.target === modal) this.closeModal(modal);
                });

                return modal;
            }

            closeModal(modal) {
                modal.style.opacity = '0';
                modal.querySelector('.modal-content').style.transform = 'scale(0.9)';
                
                setTimeout(() => {
                    if (modal.parentNode) {
                        modal.parentNode.removeChild(modal);
                    }
                }, 300);
            }

            setupTouchGestures() {
                let touchStartX = 0;
                let touchEndX = 0;

                document.addEventListener('touchstart', (e) => {
                    touchStartX = e.changedTouches[0].screenX;
                });

                document.addEventListener('touchend', (e) => {
                    touchEndX = e.changedTouches[0].screenX;
                    this.handleGesture();
                });

                this.handleGesture = () => {
                    const deltaX = touchEndX - touchStartX;
                    const minSwipeDistance = 50;

                    if (Math.abs(deltaX) > minSwipeDistance) {
                        if (deltaX > 0) {
                            this.handleSwipeRight();
                        } else {
                            this.handleSwipeLeft();
                        }
                    }
                };
            }

            handleSwipeLeft() {
                const screens = ['home', 'discover', 'messages', 'profile'];
                const currentIndex = screens.indexOf(this.currentScreen);
                const nextIndex = (currentIndex + 1) % screens.length;
                this.navigateToScreen(screens[nextIndex]);
            }

            handleSwipeRight() {
                const screens = ['home', 'discover', 'messages', 'profile'];
                const currentIndex = screens.indexOf(this.currentScreen);
                const prevIndex = currentIndex === 0 ? screens.length - 1 : currentIndex - 1;
                this.navigateToScreen(screens[prevIndex]);
            }

            async handleLogin(form) {
                const formData = new FormData(form);
                const email = formData.get('email');
                const password = formData.get('password');

                // Basic validation
                if (!email || !password) {
                    this.showError('Please fill in all fields');
                    return;
                }

                try {
                    // Check user exists in database
                    const user = await this.authenticateUser(email, password);
                    
                    if (user) {
                        this.currentUser = user;
                        localStorage.setItem('velvet_current_user', JSON.stringify(user));
                        
                        // Hide login screen and show app
                        document.getElementById('login-screen').classList.remove('active');
                        this.showApp();
                        
                        this.showSuccess('Welcome back to Velvet!');
                    } else {
                        this.showError('Invalid email or password');
                    }
                } catch (error) {
                    console.error('Login error:', error);
                    this.showError('Login failed. Please try again.');
                }
            }

            async handleSignup(form) {
                const formData = new FormData(form);
                const userData = {
                    email: formData.get('email'),
                    password: formData.get('password'),
                    confirmPassword: formData.get('confirmPassword'),
                    dateOfBirth: formData.get('dateOfBirth')
                };

                // Validation
                if (!this.validateSignupData(userData)) {
                    return;
                }

                try {
                    // Create new user
                    const newUser = await this.createUser(userData);
                    
                    if (newUser) {
                        this.currentUser = newUser;
                        localStorage.setItem('velvet_current_user', JSON.stringify(newUser));
                        
                        // Hide signup screen and show app
                        document.getElementById('signup-screen').classList.remove('active');
                        this.showApp();
                        
                        this.showSuccess('Welcome to Velvet! Your account has been created.');
                    }
                } catch (error) {
                    console.error('Signup error:', error);
                    this.showError('Account creation failed. Please try again.');
                }
            }

            validateSignupData(data) {
                // Check required fields
                const requiredFields = ['email', 'password', 'dateOfBirth'];
                for (let field of requiredFields) {
                    if (!data[field]) {
                        this.showError(`Please fill in your ${field.replace(/([A-Z])/g, ' $1').toLowerCase()}`);
                        return false;
                    }
                }

                // Email validation
                const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
                if (!emailRegex.test(data.email)) {
                    this.showError('Please enter a valid email address');
                    return false;
                }

                // Password validation
                if (data.password.length < 8) {
                    this.showError('Password must be at least 8 characters long');
                    return false;
                }

                if (data.password !== data.confirmPassword) {
                    this.showError('Passwords do not match');
                    return false;
                }

                // Age validation (must be 18+)
                const birthDate = new Date(data.dateOfBirth);
                const today = new Date();
                const age = today.getFullYear() - birthDate.getFullYear();
                if (age < 18) {
                    this.showError('You must be 18 or older to use Velvet');
                    return false;
                }

                return true;
            }

            async authenticateUser(email, password) {
                try {
                    // Get users from API
                    const response = await fetch('tables/users?search=' + encodeURIComponent(email));
                    const result = await response.json();
                    
                    if (result.data && result.data.length > 0) {
                        const user = result.data.find(u => u.email === email);
                        if (user && await this.verifyPassword(password, user.password_hash)) {
                            // Update last active
                            await fetch(`tables/users/${user.id}`, {
                                method: 'PATCH',
                                headers: {'Content-Type': 'application/json'},
                                body: JSON.stringify({
                                    last_active: new Date().toISOString()
                                })
                            });
                            
                            return user;
                        }
                    }
                    return null;
                } catch (error) {
                    console.error('Authentication error:', error);
                    throw error;
                }
            }

            async createUser(userData) {
                try {
                    // Check if email already exists
                    const existingResponse = await fetch('tables/users?search=' + encodeURIComponent(userData.email));
                    const existingResult = await existingResponse.json();
                    
                    if (existingResult.data && existingResult.data.some(u => u.email === userData.email)) {
                        this.showError('An account with this email already exists');
                        return null;
                    }

                    // Generate a default username from email (can be changed later in profile)
                    const defaultUsername = userData.email.split('@')[0];

                    // Create user record
                    const newUser = {
                        email: userData.email,
                        password_hash: await this.hashPassword(userData.password),
                        first_name: '',
                        last_name: '',
                        username: defaultUsername,
                        date_of_birth: userData.dateOfBirth,
                        location: '',
                        profile_picture: '',
                        bio: '',
                        preferences: [],
                        verification_status: 'unverified',
                        privacy_settings: JSON.stringify({
                            showAge: false,
                            showLocation: true,
                            allowMessages: true
                        }),
                        last_active: new Date().toISOString(),
                        account_status: 'active'
                    };

                    const response = await fetch('tables/users', {
                        method: 'POST',
                        headers: {'Content-Type': 'application/json'},
                        body: JSON.stringify(newUser)
                    });

                    if (response.ok) {
                        return await response.json();
                    } else {
                        throw new Error('Failed to create user account');
                    }
                } catch (error) {
                    console.error('User creation error:', error);
                    throw error;
                }
            }

            async hashPassword(password) {
                // Simple hash for demo - in production use proper bcrypt
                const encoder = new TextEncoder();
                const data = encoder.encode(password + 'velvet_salt');
                const hashBuffer = await crypto.subtle.digest('SHA-256', data);
                const hashArray = Array.from(new Uint8Array(hashBuffer));
                return hashArray.map(b => b.toString(16).padStart(2, '0')).join('');
            }

            async verifyPassword(password, hash) {
                const hashedInput = await this.hashPassword(password);
                return hashedInput === hash;
            }

            logout() {
                this.currentUser = null;
                localStorage.removeItem('velvet_current_user');
                
                // Hide app and show login
                document.getElementById('app-container').classList.remove('active');
                setTimeout(() => {
                    this.showLogin();
                }, 300);
                
                this.showSuccess('You have been logged out');
            }

            showError(message) {
                // Create error notification
                const notification = document.createElement('div');
                notification.className = 'notification error';
                notification.innerHTML = `
                    <div class="notification-content">
                        <span class="icon">‚ö†Ô∏è</span>
                        <span class="message">${message}</span>
                    </div>
                `;
                
                document.body.appendChild(notification);
                
                setTimeout(() => {
                    notification.classList.add('show');
                }, 100);
                
                setTimeout(() => {
                    notification.classList.remove('show');
                    setTimeout(() => notification.remove(), 300);
                }, 4000);
            }

            showSuccess(message) {
                // Create success notification
                const notification = document.createElement('div');
                notification.className = 'notification success';
                notification.innerHTML = `
                    <div class="notification-content">
                        <span class="icon">‚úÖ</span>
                        <span class="message">${message}</span>
                    </div>
                `;
                
                document.body.appendChild(notification);
                
                setTimeout(() => {
                    notification.classList.add('show');
                }, 100);
                
                setTimeout(() => {
                    notification.classList.remove('show');
                    setTimeout(() => notification.remove(), 300);
                }, 3000);
            }

            startApp() {
                const appContainer = document.getElementById('app-container');
                const onboardingScreen = document.getElementById('onboarding-screen');
                
                onboardingScreen.classList.remove('active');
                
                setTimeout(() => {
                    appContainer.classList.add('active');
                    this.isAppReady = true;
                    localStorage.setItem('velvet_onboarded', 'true');
                    
                    // Update dashboard with user's name
                    this.updateDashboardGreeting();
                    
                    console.log('Velvet app initialized successfully');
                }, 500);
            }

            async handleForgotPassword(form) {
                const formData = new FormData(form);
                const email = formData.get('email');

                if (!email) {
                    this.showError('Please enter your email address');
                    return;
                }

                try {
                    // Check if user exists
                    const userResponse = await fetch('tables/users?search=' + encodeURIComponent(email));
                    const userResult = await userResponse.json();
                    
                    const user = userResult.data?.find(u => u.email === email);
                    if (!user) {
                        // Don't reveal if email exists for security
                        this.showSuccess('If an account with that email exists, we\'ve sent a password reset link.');
                        return;
                    }

                    // Generate reset token
                    const resetToken = this.generateResetToken();
                    const expiresAt = new Date(Date.now() + 24 * 60 * 60 * 1000); // 24 hours

                    // Save reset request
                    const resetRequest = {
                        user_id: user.id,
                        email: email,
                        reset_token: resetToken,
                        expires_at: expiresAt.toISOString(),
                        used: false,
                        created_at: new Date().toISOString()
                    };

                    const response = await fetch('tables/password_resets', {
                        method: 'POST',
                        headers: {'Content-Type': 'application/json'},
                        body: JSON.stringify(resetRequest)
                    });

                    if (response.ok) {
                        // In production, this would send an email
                        // For demo, we'll show the reset link
                        this.showPasswordResetSuccess(resetToken);
                    } else {
                        throw new Error('Failed to create reset request');
                    }

                } catch (error) {
                    console.error('Forgot password error:', error);
                    this.showError('Unable to process password reset. Please try again.');
                }
            }

            async handleResetPassword(form) {
                const formData = new FormData(form);
                const token = formData.get('token');
                const password = formData.get('password');
                const confirmPassword = formData.get('confirmPassword');

                // Validation
                if (!password || !confirmPassword) {
                    this.showError('Please fill in all fields');
                    return;
                }

                if (password.length < 8) {
                    this.showError('Password must be at least 8 characters long');
                    return;
                }

                if (password !== confirmPassword) {
                    this.showError('Passwords do not match');
                    return;
                }

                try {
                    // Verify reset token
                    const resetResponse = await fetch('tables/password_resets?search=' + encodeURIComponent(token));
                    const resetResult = await resetResponse.json();
                    
                    const resetRequest = resetResult.data?.find(r => r.reset_token === token && !r.used);
                    
                    if (!resetRequest || new Date(resetRequest.expires_at) < new Date()) {
                        this.showError('Invalid or expired reset link. Please request a new one.');
                        return;
                    }

                    // Update user password
                    const newPasswordHash = await this.hashPassword(password);
                    
                    const updateResponse = await fetch(`tables/users/${resetRequest.user_id}`, {
                        method: 'PATCH',
                        headers: {'Content-Type': 'application/json'},
                        body: JSON.stringify({
                            password_hash: newPasswordHash
                        })
                    });

                    if (!updateResponse.ok) {
                        throw new Error('Failed to update password');
                    }

                    // Mark reset token as used
                    await fetch(`tables/password_resets/${resetRequest.id}`, {
                        method: 'PATCH',
                        headers: {'Content-Type': 'application/json'},
                        body: JSON.stringify({
                            used: true
                        })
                    });

                    // Success - redirect to login
                    document.getElementById('reset-password-screen').classList.remove('active');
                    setTimeout(() => {
                        this.showLogin();
                        this.showSuccess('Password updated successfully! Please sign in with your new password.');
                    }, 300);

                } catch (error) {
                    console.error('Reset password error:', error);
                    this.showError('Unable to reset password. Please try again.');
                }
            }

            generateResetToken() {
                // Generate a secure random token
                const array = new Uint8Array(32);
                crypto.getRandomValues(array);
                return Array.from(array, byte => byte.toString(16).padStart(2, '0')).join('');
            }

            showPasswordResetSuccess(token) {
                // In production, this would send an email
                // For demo purposes, we'll show a modal with the reset link
                const modal = this.createModal(
                    'Password Reset Link', 
                    `In production, we would send this link to your email. For demo purposes, click the link below to reset your password:<br><br><a href="#" onclick="window.velvetApp.processResetLink('${token}')" style="color: var(--vibrant-purple); text-decoration: underline;">Reset Password</a><br><br>This link expires in 24 hours.`
                );
                document.body.appendChild(modal);
                
                requestAnimationFrame(() => {
                    modal.style.opacity = '1';
                    modal.querySelector('.modal-content').style.transform = 'scale(1)';
                });

                // Also show success message
                this.showSuccess('If an account with that email exists, we\'ve sent a password reset link.');
            }

            processResetLink(token) {
                // Close any open modals
                document.querySelectorAll('.modal-overlay').forEach(modal => modal.remove());
                
                // Show reset password screen
                document.getElementById('forgot-password-screen').classList.remove('active');
                setTimeout(() => {
                    this.showResetPassword(token);
                }, 300);
            }

            updateDashboardGreeting() {
                if (this.currentUser) {
                    const greetingElement = document.querySelector('.greeting h1');
                    if (greetingElement) {
                        // Use first name if available, otherwise use username, otherwise use "Member"
                        const displayName = this.currentUser.first_name || 
                                          this.currentUser.username || 
                                          'Member';
                        greetingElement.textContent = displayName;
                    }
                }
            }

            learnMore() {
                const modal = this.createModal(
                    'About Velvet', 
                    'Velvet is a sophisticated platform for the Ethical Non-Monogamy (ENM) and lifestyle community. We connect you to curated events with AI-powered privacy features, attendee previews, and request-based messaging for safe, meaningful connections.'
                );
                document.body.appendChild(modal);
                
                requestAnimationFrame(() => {
                    modal.style.opacity = '1';
                    modal.querySelector('.modal-content').style.transform = 'scale(1)';
                });
            }
        }

        // Global functions
        function startApp() {
            if (window.velvetApp) {
                window.velvetApp.startApp();
            }
        }

        function learnMore() {
            if (window.velvetApp) {
                window.velvetApp.learnMore();
            }
        }

        function showLogin() {
            if (window.velvetApp) {
                const loginScreen = document.getElementById('login-screen');
                const signupScreen = document.getElementById('signup-screen');
                
                signupScreen.classList.remove('active');
                setTimeout(() => {
                    loginScreen.classList.add('active');
                }, 300);
            }
        }

        function showSignup() {
            if (window.velvetApp) {
                window.velvetApp.showSignup();
            }
        }

        function logout() {
            if (window.velvetApp) {
                window.velvetApp.logout();
            }
        }

        function showForgotPassword() {
            if (window.velvetApp) {
                window.velvetApp.showForgotPassword();
            }
        }

        // Initialize app
        document.addEventListener('DOMContentLoaded', () => {
            window.velvetApp = new VelvetApp();
        });
    </script>
</body>
</html>